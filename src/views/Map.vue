<template>
  <div class="map">
    <v-container>
      <v-layout
        text-center
        wrap
      >
        <v-flex xs12>
          <!-- Map SVG -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 440.8 423.01">
            <defs>
                <svg:style>
                    .cls-1 {
                        fill: #fdfad6;
                        stroke: #186935;
                        stroke-linecap: round;
                        stroke-linejoin: round;
                        stroke-width: 4px;
                    }

                    .cls-2 {
                        fill: #231f20;
                    }

                    .cls-3 {
                        fill: #fff;
                    }

                    .cls-4 {
                        fill: none;
                        pointer-events: bounding-box;
                    }
                </svg:style>
            </defs>
            <title>Map of School</title>
            <g id="Layer_1" data-name="Layer 1">
                <path class="cls-1"
                    d="M438.8,110v45.09h-205S222.45,167.62,219,173.68c-4,7-9.27,26-9.27,26H198.2v56.93H362V387.73H336.6v15.8h-9.85V421H110.93V386.19H37.09v18.06H2V262.31H21.82V246H48s42.2-1.57,42.31-47.11c.11-44.46-42.31-47.1-42.31-47.1l-26.21-.28V131.9H12.26v-112H34.08V30.72h33V110H119.3V21.87h22V33.1H171.9V110h51.89V24.64H277V110h52.47V23.89h27.13V2h23.53V110Z"
                    transform="translate(0 0)" />
                <path class="cls-2"
                    d="M81.07,78.71c-2.43-4.58-7.23-6.91-14.32-6.92-6.82,0-11.51,2.27-13.93,6.76-6.82,12.63,9.43,38,11.31,40.9a3.21,3.21,0,0,0,2.66,1.44h0a3.18,3.18,0,0,0,2.65-1.42C71.36,116.64,87.84,91.43,81.07,78.71Z"
                    transform="translate(0 0)" />
                <path class="cls-3"
                    d="M74.86,97.62h-4L69.75,94H64l-1.14,3.59H58.93l5.88-16.14h4.31Zm-5.94-6.38-1.74-5.43a8.19,8.19,0,0,1-.27-1.45h-.09a5.87,5.87,0,0,1-.28,1.41l-1.75,5.47Z"
                    transform="translate(0 0)" />
                <path class="cls-2"
                    d="M186.68,78.71c-2.43-4.58-7.23-6.91-14.31-6.92-6.83,0-11.52,2.27-13.94,6.76-6.82,12.63,9.44,38,11.31,40.9a3.21,3.21,0,0,0,2.66,1.44h0a3.2,3.2,0,0,0,2.66-1.42C177,116.64,193.45,91.43,186.68,78.71Z"
                    transform="translate(0 0)" />
                <path class="cls-3"
                    d="M167,97.62V81.48h5.88a7.31,7.31,0,0,1,4.15,1,3.19,3.19,0,0,1,1.46,2.79,3.33,3.33,0,0,1-.89,2.29,4.69,4.69,0,0,1-2.26,1.36v0a4.52,4.52,0,0,1,2.76,1.28,3.56,3.56,0,0,1,1,2.57,4.31,4.31,0,0,1-1.59,3.52,6.62,6.62,0,0,1-4.33,1.3Zm3.64-13.46V88h1.6a2.67,2.67,0,0,0,1.77-.54,1.88,1.88,0,0,0,.65-1.5c0-1.19-.89-1.78-2.66-1.78Zm0,6.53v4.25h2a3.05,3.05,0,0,0,2-.58,2,2,0,0,0,.71-1.6,1.82,1.82,0,0,0-.7-1.52,3.12,3.12,0,0,0-2-.55Z"
                    transform="translate(0 0)" />
                <path class="cls-2"
                    d="M291.3,78.71c-2.44-4.58-7.24-6.91-14.32-6.92-6.83,0-11.52,2.27-13.94,6.76-6.81,12.63,9.44,38,11.31,40.9a3.21,3.21,0,0,0,2.66,1.44h0a3.2,3.2,0,0,0,2.66-1.42C281.59,116.64,298.06,91.43,291.3,78.71Z"
                    transform="translate(0 0)" />
                <path class="cls-3"
                    d="M283.38,97.05a10.68,10.68,0,0,1-4.62.85,7.74,7.74,0,0,1-5.84-2.18,8,8,0,0,1-2.13-5.82,8.54,8.54,0,0,1,2.39-6.28,8.36,8.36,0,0,1,6.21-2.41,11.87,11.87,0,0,1,4,.59v3.51a7.07,7.07,0,0,0-3.7-1A4.88,4.88,0,0,0,276,85.77a5.29,5.29,0,0,0-1.39,3.87,5.19,5.19,0,0,0,1.31,3.73,4.65,4.65,0,0,0,3.55,1.39,7.58,7.58,0,0,0,3.9-1Z"
                    transform="translate(0 0)" />
                <path class="cls-2"
                    d="M394.91,78.71c-2.44-4.58-7.24-6.91-14.32-6.92-6.83,0-11.52,2.27-13.93,6.76-6.82,12.63,9.43,38,11.31,40.9a3.19,3.19,0,0,0,2.66,1.44h0a3.19,3.19,0,0,0,2.66-1.42C385.2,116.64,401.67,91.43,394.91,78.71Z"
                    transform="translate(0 0)" />
                <path class="cls-3"
                    d="M374.11,97.62V81.48h5.72q8.6,0,8.6,7.87a7.94,7.94,0,0,1-2.35,6,8.65,8.65,0,0,1-6.25,2.25Zm3.64-13.18V94.67h1.8a4.87,4.87,0,0,0,3.71-1.42,5.39,5.39,0,0,0,1.34-3.86,4.87,4.87,0,0,0-1.33-3.63,5.1,5.1,0,0,0-3.75-1.32Z"
                    transform="translate(0 0)" />
                <path class="cls-2"
                    d="M322.78,304.49c-2.43-4.58-7.23-6.9-14.31-6.92-6.83,0-11.52,2.28-13.94,6.76-6.82,12.63,9.44,38,11.31,40.9a3.18,3.18,0,0,0,2.66,1.44h0a3.23,3.23,0,0,0,2.66-1.41C313.08,342.42,329.55,317.21,322.78,304.49Z"
                    transform="translate(0 0)" />
                <path class="cls-3"
                    d="M309.2,312.76a3.69,3.69,0,0,1-2.42,3.66l.45,8.34a.83.83,0,0,1-.84.88h-2.24a.84.84,0,0,1-.84-.88l.45-8.34a3.68,3.68,0,0,1-2.41-3.66,41.45,41.45,0,0,1,.57-4.51c.11-.71,1.58-.72,1.67,0v4.94c.05.12.53.11.56,0,.05-.89.28-4.87.28-5,.12-.72,1.57-.72,1.68,0,0,.1.23,4.08.28,5,0,.11.52.12.56,0v-4.94c.09-.76,1.57-.75,1.68,0A41.8,41.8,0,0,1,309.2,312.76Zm5.88-5.05a.85.85,0,0,1,.84.85V324.8a.84.84,0,0,1-.84.84h-2a.84.84,0,0,1-.84-.91l.53-6.48C307.33,314,312.19,307.71,315.08,307.71Z"
                    transform="translate(0 0)" />
                <path class="cls-2"
                    d="M182,334.49c-2.44-4.58-7.23-6.9-14.32-6.92-6.83,0-11.52,2.28-13.94,6.76-6.81,12.63,9.44,38,11.32,40.9a3.17,3.17,0,0,0,2.66,1.44h0a3.2,3.2,0,0,0,2.66-1.41C172.32,372.42,188.8,347.21,182,334.49Z"
                    transform="translate(0 0)" />
                <path class="cls-3"
                    d="M161.16,341.92v9.52a.84.84,0,0,1-.84.84h-1.68a.84.84,0,0,1-.85-.84V347.8H157a.29.29,0,0,1-.28-.28v-1.68a.29.29,0,0,1,.28-.28h.84v-3.64a.84.84,0,0,1,.85-.84h1.68A.84.84,0,0,1,161.16,341.92Zm12.32-2.24v14a.83.83,0,0,1-.84.84H171a.84.84,0,0,1-.84-.84V347.8h-4.48v5.88a.84.84,0,0,1-.84.84h-1.68a.83.83,0,0,1-.84-.84v-14a.83.83,0,0,1,.84-.84h1.68a.84.84,0,0,1,.84.84v5.88h4.48v-5.88a.84.84,0,0,1,.84-.84h1.68A.83.83,0,0,1,173.48,339.68Zm5.61,6.16v1.68a.29.29,0,0,1-.28.28H178v3.64a.84.84,0,0,1-.84.84h-1.69a.84.84,0,0,1-.84-.84v-9.52a.84.84,0,0,1,.84-.84h1.69a.84.84,0,0,1,.84.84v3.64h.84A.29.29,0,0,1,179.09,345.84Z"
                    transform="translate(0 0)" />
            </g>
            <g id="Layer_2" data-name="Layer 2">
                <!-- A Commons -->
                <rect @click="setLocation(0)" class="cls-4" x="10.55" y="19.89" width="108.75" height="132.4" />
                <!-- B Commons -->
                <rect @click="setLocation(1)" class="cls-4" x="119.3" y="19.89" width="101.47" height="132.4" />
                <!-- C Commons -->
                <rect @click="setLocation(2)" class="cls-4" x="220.77" y="19.89" width="108.75" height="132.4" />
                <!-- D Commons -->
                <rect @click="setLocation(3)" class="cls-4" x="329.52" y="19.89" width="108.75" height="132.4" />
                <!-- Cafeteria -->
                <rect @click="setLocation(4)" class="cls-4" x="254.26" y="255.93" width="108.75" height="132.4" />
                <!-- Gym -->
                <rect @click="setLocation(5)" class="cls-4" x="113.5" y="285.93" width="108.75" height="132.4" />
            </g>
        </svg>
        </v-flex>
      </v-layout>
    </v-container>
    
    <!-- Dialog -->
    <v-dialog v-model="dialog" max-width="750" transition="dialog-bottom-transition">
      <LocationCard 
        :location='location'
        :closeDialog='closeDialog'
      />
    </v-dialog>
  </div>
</template>

<script>
import LocationCard from '@/components/LocationCard.vue'

export default {
  name: 'Map',

  components: {
    LocationCard,
  },

  data: () => ({
    dialog: false,
    locations: [
      {
        id: 0,
        name: 'A Commons',
        image: '/img/locations/commons.jpg',
        links: [
          {
            title: 'Teacher Schedules',
            subtitle: 'See which teachers work in this commons and their schedules.',
            href: 'https://lexington1.schoology.com/attachment/1374401087/docviewer'
          }
        ]
      },
      {
        id: 1,
        name: 'B Commons',
        image: '/img/locations/commons.jpg',
        links: [
          {
            title: 'Teacher Schedules',
            subtitle: 'See which teachers work in this commons and their schedules.',
            href: 'https://lexington1.schoology.com/attachment/1374401087/docviewer'
          }
        ]
      },
      {
        id: 2,
        name: 'C Commons',
        image: '/img/locations/commons.jpg',
        links: [
          {
            title: 'Teacher Schedules',
            subtitle: 'See which teachers work in this commons and their schedules.',
            href: 'https://lexington1.schoology.com/attachment/1374401087/docviewer'
          }
        ]
      },
      {
        id: 3,
        name: 'D Commons',
        image: '/img/locations/commons.jpg',
        links: [
          {
            title: 'Teacher Schedules',
            subtitle: 'See which teachers work in this commons and their schedules.',
            href: 'https://lexington1.schoology.com/attachment/1374401087/docviewer'
          }
        ]
      },
      {
        id: 4,
        name: 'River Café',
        image: '/img/locations/river-cafe.jpg',
        links: [
          {
            title: 'Lunch Menu',
            subtitle: "See what's for lunch today in the River Café!",
            href: 'https://schools.mealviewer.com/school/RiverBluffHigh'
          }
        ]
      },
      {
        id: 5,
        name: 'Gym',
        image: '/img/locations/gym.png',
      },
    ],
    location: null,
  }),

  methods: {
    setLocation (n) {
      this.location = this.locations[n]
      this.dialog = true;
    },
    closeDialog () {
      this.dialog = false;
    }
  },
}
</script>
